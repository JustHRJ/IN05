<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="./c-template.xhtml">

    <ui:define name="content">
        <!-- Page header -->
        <div class="page-heading animated fadeInDownBig">
            <h1 style="font-weight: bold">Products - Request for Quotation<small></small></h1>
            <p style="margin-bottom: 1%"></p>
            <h:outputText value="" style="font-family: 'Open Sans'; font-weight: bold; color: red;" />
        </div>
        <!-- End page header -->
 #{LoginManagedBean.checkLoginRedirect()}
        <h:form id="mainForm">
            <p:growl id="msgs" showDetail="false" />
            <p:messages id="rfqMsg"  showDetail="false" />
            <p:panelGrid styleClass="rfq" id="weldPanel" columns="2">
            </p:panelGrid>
            <p:dataTable value="#{productQuotationManagedBean.cacheList}" var="item" id="mydata" editable="true">
                <p:column headerText="ID" width="4%">
                    <h:outputText value="#{item.productQuotationDescNo}"/>
                </p:column>
                <p:column  styleClass="rfq" headerText="Item Type" width="10%">
                    <h:outputText value="#{item.productType}"/>
                </p:column>
                <p:column  styleClass="rfq" headerText="Item Description" width="44%">
                    <h:outputText value="#{item.itemName}"/>
                </p:column>
                <p:column headerText="Quantity" width="8%">
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{item.quantity}"/></f:facet>
                        <f:facet name="input"><p:inputText value="#{item.quantity}"/></f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column  styleClass="rfq" headerText="Your Remarks" width="22%">
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText style="text-align: left" value="#{item.remarks}"/></f:facet>
                        <f:facet name="input">
                            <p:inputTextarea autoResize="false" placeholder="You can add remarks here" value="#{item.remarks}" rows="6" cols="68" />
                        </f:facet>
                    </p:cellEditor>
                </p:column>
                <p:column headerText="Edit" width="6%">
                    <p:rowEditor />
                </p:column>
                <p:column headerText="Delete" width="6%">
                    <p:commandLink update="mydata" id="deleteLink" styleClass="ui-icon ui-icon-trash" action="#{productQuotationManagedBean.deleteProductQuotationDescription(item)}"/>
                </p:column>
            </p:dataTable>
            <br />
            <c:if test="#{productQuotationManagedBean.cacheList.size() >= 1}">
                <p:commandButton value="Send Request" actionListener="#{productQuotationManagedBean.createProductQuotation}" update="rfqMsg mydata weldPanel" icon="" style="padding-top: 5px; padding-bottom: 5px; padding-left: 22px; padding-right: 22px">
                </p:commandButton>
            </c:if>
        </h:form>
    </ui:define>
</ui:composition>
